<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Inicio MentorEstu</title>
    <!-- Fuentes -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&family=Poppins:wght@300&display=swap"
        rel="stylesheet" />
    <link rel="stylesheet" href="fonts/tt-chocolates.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap">
    <!-- Estilos -->
    <link rel="stylesheet" href="css/estilosinicio.css" />
</head>

<body>
    <!-- Header / Menú -->
    <header class="menu">
        <div class="header-left">
            <button class="menu-toggle" id="menu-btn" type="button">☰</button>
            <img src="img/logo.png" alt="Logo MentorEstu" class="logo-img" />
        </div>
        <div class="header-right">
            <!-- 3 imágenes a la izquierda del avatar -->
            <img src="img/calen.png" class="extra-img" alt="calendario">
            <!-- Dentro del header -->
            <div class="notificacion-wrapper" onclick="toggleNotificaciones()">
                <img src="img/campana.png" class="extra-img" alt="notificacion">
                <span id="contador-clases" class="notificacion-badge" style="display: none;">0</span>
            </div>

            <!-- Contenedor flotante de notificaciones -->
            <div id="panel-notificaciones" class="notificaciones-dropdown" style="display: none;">
                <h4 style="color: #003A6D; margin: 0.5rem 0;">Notificaciones de hoy</h4>

                <div id="lista-notificaciones"></div>
            </div>
            <img src="img/cerrar.png" class="extra-img" alt="notificacion" onclick="confirmarCierreSesion()">

            <!-- Avatar con punto verde e info oculta -->
            <div class="avatar-container">
                <img src="basicperfil.png" alt="Avatar" class="avatar" id="avatarFoto" />
                <span class="user_name" id="usuario"></span>
                <!-- Contenedor de información del usuario -->
                <div id="user-info-box">
                    <img id="infoFoto" alt="Foto del usuario" width="150" />
                    <p id="userIdContainer" style="display: none;"><strong>ID:</strong> <span id="userId"></span></p>
                    <p><strong>Nombre completo:</strong> <span id="userNombre"></span></p>
                    <p><strong>Correo:</strong> <span id="userCorreo"></span></p>
                    <p><strong>Rol:</strong> <span id="userRol"></span></p>
                    <p><strong>Fecha de registro:</strong> <span id="userFecha"></span></p>
                    <div class="user-info-actions">
                        <button id="edit-button" type="button">Editar</button>
                        <button id="close-info-button" type="button">Cerrar</button>
                    </div>
                </div>
            </div>
    </header>

    <!-- Contenido principal -->
    <div class="container">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-content">
                <!-- SECCIÓN PRINCIPAL -->
                <div class="seccion-principal">
                    <ul class="menu">
                        <li data-section="principal"><img src="img/casa.png" class="menu-icon" /> Principal</li>
                        <li data-section="ranking"><img src="img/ranking.png" class="menu-icon" /> Ranking</li>
                        <li data-section="clases"><img src="img/objetivo.png" class="menu-icon" /> Clases</li>
                        <li data-section="popular"><img src="img/profesor.png" class="menu-icon" /> Docentes</li>
                        <li data-section="calendario"><img src="img/calendario.png" class="menu-icon" /> Calendario</li>
                        <li data-section="solicitudes"><img src="img/solicitud.png" class="menu-icon" /> Solicitudes
                        </li>
                        </li>
                    </ul>
                </div>




                <!-- SECCIÓN CURSOS -->
                <div class="seccion-cursos">
                    <div class="titulo-cursos">
                        <span>Cursos recientes</span>
                        <img src="img/abajo.png" class="icono-cursos" />
                    </div>
                    <div class="unete-curso">
                        <span>Proximamente..</span>
                    </div>
                </div>

                <!-- SECCIÓN CONTACTOS -->
                <div class="seccion-contactos">
                    <div class="titulo-contactos">
                        <span>Contactos</span>
                        <img src="img/abajo.png" class="flecha-contacto" alt="flecha">
                    </div>
                    <div class="contacto">
                        <span>Proximamente..</span>
                    </div>
                </div>


                <!-- SECCIÓN COMUNIDADES -->
                <div class="seccion-comunidades">
                    <div class="titulo-comunidades">
                        <span>Comunidades</span>
                        <img src="img/abajo.png" class="flecha-comunidad" alt="flecha">
                    </div>
                    <div class="comunidad">
                        <span>Proximamente..</span>
                    </div>
                </div>


                <!-- SECCIÓN RECURSOS -->
                <div class="seccion-recursos">
                    <div class="titulo-recursos">
                        <span>Recursos</span>
                        <img src="img/abajo.png" class="flecha-recurso" alt="flecha">
                    </div>
                    <div class="recurso">
                        <span>Proximamente..</span>
                    </div>
                </div>
            </div>
        </aside>

        <main id="main-content">
            <!-- Sección PRINCIPAL -->
            <section class="section active" id="principal">
                <!-- Aquí se insertarán dinámicamente las novedades -->
            </section>




            <!-- Sección EDITAR ESTUDIANTE -->
            <section id="perfil" class="section">
                <h2>Editar Perfil</h2>

                <form id="formEditarPerfil" enctype="multipart/form-data">
                    <!-- Imagen centrada -->
                    <div class="foto-usuario-container">
                        <img id="editFotoPreview" src="basicperfil.png" alt="Foto actual" />
                        <input type="file" id="editImagen" name="editImagen" accept="image/*">
                    </div>

                    <!-- Campos de texto -->
                    <label for="editNombre">Nombre completo:</label>
                    <input type="text" id="editNombre" name="editNombre" required>

                    <label for="editCorreo">Correo electrónico:</label>
                    <input type="email" id="editCorreo" name="editCorreo" required>

                    <!-- Botones -->
                    <div class="botones-accion">
                        <button type="submit">Guardar cambios</button>
                        <button type="button" id="cancelarEditar">Cancelar</button>
                    </div>
                </form>
            </section>




            <!-- Sección RANKING -->
            <section id="ranking" class="ranking-section" style="display: none;">
                <div class="ranking-wrapper">
                    <div class="ranking-header">
                        <img src="img/logo.png" alt="Icono ranking" class="ranking-icon" />
                        <p class="ranking-title">CAMPEONES DEL RANKING</p>
                        <!-- Contenedor para ranking de 3 campeones (top 3) -->
                        <div class="champion-cards" id="rankingCards2"></div>
                    </div>

                    <div class="ranking-controls">
                        <span class="ranking-label">Ranking</span>
                        <select class="ranking-select" id="rankingSelect">
                            <option value="maestro">Maestro</option>
                            <option value="intermedio">Intermedio</option>
                            <option value="novato">Novato</option>
                        </select>
                    </div>

                    <!-- Contenedor para ranking completo -->
                    <div class="ranking-grid" id="rankingGrid"></div>
                </div>
            </section>




            <!-- Sección POPULAR -->
            <section class="section-clasespopular" id="popular" style="display: none;">
                <h2 id="mentores-title" style="display: none;" class="mentores-titulo">Mentores Destacados</h2>

                <!-- Botón para volver a especialidades -->
                <button id="btn-volver" style="display:none;" class="mentores-volver">Volver a especialidades</button>

                <div class="mentores-grid" id="mentores-container">
                    <!-- Aquí se insertarán las tarjetas de mentores -->
                </div>

                <!-- Contenedor blanco -->
                <div class="cursos-container">
                    <!-- Imagen superior -->
                    <img src="img/NEGOCIOS-CERTUS-BLOG.jpg" alt="Banner Cursos" class="cursos-banner">

                    <!-- Encabezado -->
                    <div class="cursos-header">
                        <h2 class="cursos-titulo">Cursos</h2>
                        <select id="curso-filter" class="selectorcursos">
                            <option value="">Seleccione una especialidad</option>
                        </select>
                    </div>

                    <!-- Cuadros de cursos -->
                    <div class="cursos-grid" id="cursos-grid">
                        <!-- Aquí se generarán los cuadros dinámicamente -->
                    </div>
                </div>
            </section>




            <!-- Sección DOCENTE-AGENDA -->
            <section id="agenda" class="section" style="display: none;">

                <!-- Botón de retroceder alineado a la izquierda -->
                <button id="btn-retroceder" class="btn-retroceder">← Volver</button>

                <!-- Título centrado o en bloque separado -->
                <h2>Agendar Sesión con <span id="mentor-nombre"></span></h2>

                <!-- Contenedor principal: formulario + imagen + horarios -->
                <div style="display: flex; gap: 2rem; align-items: flex-start; flex-wrap: wrap;">

                    <!-- Formulario para agendar -->

                    <form id="form-agenda" class="agenda-form" style="flex: 1; min-width: 250px;">
                        <label for="fecha">Fecha:</label>
                        <input type="date" id="fecha" name="fecha" required>

                        <label for="horario">Hora:</label>
                        <select id="horario" name="horario" required></select>

                        <button type="submit">Agendar</button>
                    </form>
                    <!-- Imagen + Horarios -->
                    <div class="mentor-info">
                        <!-- Imagen del mentor -->
                        <div class="mentor-imagen-container">
                            <img id="mentor-imagen" src="" alt="Imagen del mentor" class="mentor-imagen">
                        </div>

                        <!-- Horarios disponibles -->
                        <div id="mentor-horarios" class="mentor-horarios">
                            <!-- JS llenará esto con los horarios -->
                        </div>
                    </div>

                </div>
            </section>



            <!-- Sección CALENDARIO -->
            <section id="calendario" class="section section-calendariotodo">

                <h2>Calendario de sesiones</h2>

                <div id="calendar-controls">
                    <button id="prev-month">« Anterior</button>
                    <span id="calendar-month-year"></span>
                    <button id="next-month">Siguiente »</button>
                </div>

                <div id="calendar"></div>
            </section>





            <!-- Sección Solicitudes -->
            <section class="section" id="solicitudes" style="display: none;">
                <h2 class="solititulo">Enviar una solicitud</h2>
                <form id="form-solicitud">
                    <label for="motivo">Motivo:</label>
                    <select id="motivo" required>
                        <option value="Cambio de Rol">Cambio de Rol</option>
                    </select>

                    <label for="pedido">Descripción de la solicitud:</label>
                    <textarea id="pedido" rows="4" required></textarea>

                    <button type="submit">Enviar Solicitud</button>
                </form>

                <hr style="margin: 30px 0;">

                <h3>Solicitudes Totales</h3>
                <table id="tabla-solicitudes" style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                    <thead>
                        <tr style="background-color: #007BFF; color: white;">
                            <th>ID</th>
                            <th>Motivo</th>
                            <th>Pedido</th>
                            <th>Resultado</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </section>





            <!-- Sección CLASES -->
            <section id="clases" class="section section-clasesenteras" style="display: none;">
                <h2>Mis Clases</h2>
                <label for="filtro-mentor" class="clasesfiltro">Filtrar por mentor:</label>
                <select id="filtro-mentor">
                    <option value="todos">Todos los mentores</option>
                </select>
                <div id="clases-container"></div>
            </section>
        </main>




        <aside class="rightbar" id="rightbar">
            <div id="contenedor-publicidad"></div>
        </aside>


    </div>
    <!-- Modal de Calificación -->
    <div id="modal-feedback" style="display: none; position: fixed; top: 20%; left: 50%; transform: translateX(-50%);
background: white; border: 1px solid #ccc; border-radius: 10px; padding: 20px; z-index: 1000;">
        <h3 id="titulo-sesion-feedback">¡Califica tu sesión!</h3>
        <div id="estrellas"></div>
        <textarea id="comentario" placeholder="Escribe un comentario..." rows="4" style="width: 100%;"></textarea>
        <button onclick="enviarFeedback()">Enviar</button>
    </div>
    <script src="js/inicio.js"></script>
    <script src="/socket.io/socket.io.js"></script>
</body>

</html>